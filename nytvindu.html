<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Portræt akvariet</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav>
        <button class="filter valgt" data-kategori="alle">Alle fisk</button>
        <button class="filter" data-kategori="blue">Blå fisk</button>
        <button class="filter" data-kategori="yellow">Gule fisk</button>
        <button class="filter" data-kategori="orange">Orange fisk</button>
        <button class="filter" data-kategori="white">Hvide fisk</button>
        <button class="filter" data-kategori="red">Røde fisk</button>
        <button class="filter" data-kategori="andet">Andre farver</button>
    </nav>

    <section class="data-container">
    </section>
    <template>
        <article>
            <h2></h2>
            <img src="" alt="">
            <p class="kategori"></p>
            <p class="pris"></p>
            <p class="kort"></p>
            <p class="lang"></p>
            <p class="oprindelse"></p>
        </article>
    </template>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const filter = urlParams.get("id");




        const link = "https://spreadsheets.google.com/feeds/list/1RvB2f2NnVM1-vxvO-tpdybufvkeX4DuF4jCgHjtVTJE/od6/public/values?alt=json";
        //   let filter = "alle";
        //const container = document.querySelector("#data-container");
        //const fiskTemplate = document.querySelector("template");

        document.addEventListener("DOMContentLoaded", start);

        function start() {
            loadData();
            //            klikBar();

        }

        async function loadData() {
            const response = await fetch(link);
            fisker = await response.json();
            console.log(fisker);
            visFisker();
        }

        function visFisker() {


            fisker.feed.entry.forEach(fisk => {
                if (filter == "alle" || filter == fisk.gsx$id.$t) {

                    console.log(fisk);
                    //                    let klon = fiskTemplate.cloneNode(true).content;
                    //                    klon.querySelector("img").src = `small/${fisk.gsx$billede.$t}_sm.jpg`;
                    //                    klon.querySelector("article").addEventListener("click", () => {
                    //                        visDetalje(fisk)
                    //
                    //                    });
                    //                    container.appendChild(klon);
                }
            })
        }
    </script>

</body></html>
